<!DOCTYPE html>
<head>
  
  <!--STAGING:-->
  <script src="https://assets.adobedtm.com/50164577268f481934e5d57dbfb78f929164cd0d/satelliteLib-ea775cfabef5fca8b04e9392f20c986c0724a7c3-staging.js"></script>
  <!--Production:-->
  <script src="https://assets.adobedtm.com/50164577268f481934e5d57dbfb78f929164cd0d/satelliteLib-ea775cfabef5fca8b04e9392f20c986c0724a7c3.js"></script>
    <title>4.1. Setup AWS CloudWatch IAM User</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="kb_doc_type" content="Manual"/>
  <meta name="kb_doc_type" content="User Guide"/>
  <meta name="title" content="4.1. Setup AWS CloudWatch IAM User"/>
  <meta name="product" content="F5-Automation-and-Orchestration"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="None"/>
  <meta name="archived" content="Archived documents excluded"/>

  
  
  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">
 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script type="text"> jQuery.noConflict(true)</script>

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>4.1. Setup AWS CloudWatch IAM User &#8212; F5-Automation-and-Orchestration  documentation</title>
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5_agility_theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="4. Telemetry Streaming" href="../class5.html" />
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="dismiss">
      <button type="button" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>
    </div>
    <div id="sidebar" class="section-nav">
      <nav class="nav-sidebartoc">
        <h5>F5-Automation-and-Orchestration  documentation </h5>
<div id="searchbox" role="search">
  <form class="search" action="../../search.html" method="get">
    <input type="text" class="search" name="q" placeholder=" Search..." />
    <button type="submit" class="btn btn-info navbar-btn"><i class="fa fa-search"></i></button>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        <hr>
        <h5>Current Page</h5>
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">4.1. Setup AWS CloudWatch IAM User</a></li>
<li><a class="reference internal" href="#setup-aws-cloudwatch-log-group">4.2. Setup AWS CloudWatch Log Group</a></li>
<li><a class="reference internal" href="#deploy-and-start-udf">4.3. Deploy and Start UDF</a></li>
<li><a class="reference internal" href="#configure-postman">4.4. Configure Postman</a></li>
<li><a class="reference internal" href="#send-declaration">4.5. Send Declaration</a></li>
<li><a class="reference internal" href="#generate-traffic-on-big-ip">4.6. Generate Traffic on BIG-IP</a></li>
<li><a class="reference internal" href="#view-logs-in-aws-cloudwatch">4.7. View Logs in AWS CloudWatch</a></li>
</ul>

         </span>
        <hr>
        <h5>Site Contents</h5>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../class2/class2.html">1. Environments &amp; Lab Topology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class3/class3.html">2. Declarative Onboarding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class4/class4.html">3. Application Services 3 Extension (AS3)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../class5.html">4. Telemetry Streaming</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.1. Setup AWS CloudWatch IAM User</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-aws-cloudwatch-log-group">4.2. Setup AWS CloudWatch Log Group</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deploy-and-start-udf">4.3. Deploy and Start UDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-postman">4.4. Configure Postman</a></li>
<li class="toctree-l2"><a class="reference internal" href="#send-declaration">4.5. Send Declaration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generate-traffic-on-big-ip">4.6. Generate Traffic on BIG-IP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#view-logs-in-aws-cloudwatch">4.7. View Logs in AWS CloudWatch</a></li>
</ul>
</li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>

  
  <div class="main active" id="content">
    <article class="docs-container site-article-inner">
            <nav class="site-breadcrumb-nav site-nav">
          <ul class="site-breadcrumb-list">
            <li class="breadcrumb-item"><button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>&#x20 <a href="/">Community Training Classes &amp; Labs</a> &gt; <a href="../../index.html">F5-Automation-and-Orchestration </a> &gt; 4.1. Setup AWS CloudWatch IAM User</li>
          </ul>
      </nav>
      
      

    
  <div class="section" id="setup-aws-cloudwatch-iam-user">
<h1>4.1. Setup AWS CloudWatch IAM User<a class="headerlink" href="#setup-aws-cloudwatch-iam-user" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>In your local browser, navigate to “<a class="reference external" href="https://federate.f5.com">https://federate.f5.com</a>”</li>
</ol>
<img alt="../../_images/federate.png" src="../../_images/federate.png" />
<ol class="arabic simple" start="2">
<li>Click on the “AWS Console” tile.</li>
</ol>
<img alt="../../_images/aws.png" src="../../_images/aws.png" />
<ol class="arabic simple" start="3">
<li>Open “Services” dropdown in the top menu bar.</li>
</ol>
<img alt="../../_images/services.png" src="../../_images/services.png" />
<ol class="arabic simple" start="4">
<li>Under “Security, Identity and Compliance”, click on “IAM”.</li>
</ol>
<img alt="../../_images/iam.png" src="../../_images/iam.png" />
<ol class="arabic simple" start="5">
<li>Click “Users” in the left menu bar.</li>
</ol>
<img alt="../../_images/users.png" src="../../_images/users.png" />
<ol class="arabic simple" start="6">
<li>Click on the “Add User” button.</li>
</ol>
<img alt="../../_images/add_user.png" src="../../_images/add_user.png" />
<ol class="arabic simple" start="7">
<li>Under Set User Details enter a user name “my_user”.</li>
<li>Under Select AWS access type select Programmatic access.</li>
<li>Select the Blue “Next: Permissions” button on the bottom right.</li>
</ol>
<img alt="../../_images/my_user.png" src="../../_images/my_user.png" />
<ol class="arabic simple" start="10">
<li>Under “Add user to group” select any group with “Administrator Access” as an Attached Policy.</li>
<li>Select the Blue “Next: Tags” button on the bottom right.</li>
</ol>
<img alt="../../_images/next_tags.png" src="../../_images/next_tags.png" />
<ol class="arabic simple" start="12">
<li>Dismiss the “Add User” section by selecting the Blue “Next: Review” button on the bottom right.</li>
<li>Dismiss the “Review” section by selecting the Blue “Create User” button on the bottom right.</li>
<li>Copy the Access Key and Secret access key and paste them in Notes or Stickies. Close the window by clicking “Close”.</li>
</ol>
<img alt="../../_images/access.png" src="../../_images/access.png" />
</div>
<div class="section" id="setup-aws-cloudwatch-log-group">
<h1>4.2. Setup AWS CloudWatch Log Group<a class="headerlink" href="#setup-aws-cloudwatch-log-group" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>In your local browser, navigate to “<a class="reference external" href="https://federate.f5.com">https://federate.f5.com</a>”</li>
<li>Click on the “AWS Console” tile.</li>
</ol>
<img alt="../../_images/aws.png" src="../../_images/aws.png" />
<ol class="arabic simple" start="3">
<li>Open “Services” dropdown in the top menu bar.</li>
</ol>
<img alt="../../_images/aws_tile.png" src="../../_images/aws_tile.png" />
<ol class="arabic simple" start="4">
<li>Open “Services” dropdown in the top menu bar.</li>
</ol>
<img alt="../../_images/services.png" src="../../_images/services.png" />
<ol class="arabic simple" start="5">
<li>Under “Management &amp; Governance”, click on “Cloudwatch”.</li>
</ol>
<img alt="../../_images/cloudwatch.png" src="../../_images/cloudwatch.png" />
<ol class="arabic simple" start="6">
<li>Click “Logs” in the left menu bar.</li>
</ol>
<img alt="../../_images/logs.png" src="../../_images/logs.png" />
<ol class="arabic simple" start="7">
<li>Click the blue “Let’s Get Started” button.</li>
</ol>
<img alt="../../_images/start.png" src="../../_images/start.png" />
<ol class="arabic simple" start="8">
<li>Click the grey “Create Log Group” button.</li>
</ol>
<img alt="../../_images/create_log.png" src="../../_images/create_log.png" />
<ol class="arabic simple" start="9">
<li>In “Log Group Name” enter “my_log_group”, click “Create log group”.</li>
</ol>
<img alt="../../_images/my_log.png" src="../../_images/my_log.png" />
<ol class="arabic simple" start="10">
<li>Click “my_log_group”.</li>
</ol>
<img alt="../../_images/my_log_g.png" src="../../_images/my_log_g.png" />
<ol class="arabic simple" start="11">
<li>Click “Create Log Stream” button.</li>
</ol>
<img alt="../../_images/logstream.png" src="../../_images/logstream.png" />
<ol class="arabic simple" start="12">
<li>In “Log Stream Name” enter “test_log_stream”, click “Create Log Stream”.</li>
</ol>
<img alt="../../_images/test_log.png" src="../../_images/test_log.png" />
</div>
<div class="section" id="deploy-and-start-udf">
<h1>4.3. Deploy and Start UDF<a class="headerlink" href="#deploy-and-start-udf" title="Permalink to this headline">¶</a></h1>
<img alt="../../_images/udf.png" src="../../_images/udf.png" />
<ol class="arabic simple">
<li>Navigate to <a class="reference external" href="https://udf.f5.com">https://udf.f5.com</a></li>
<li>Open “Blueprints” in the left menu bar.</li>
<li>In the search bar enter, “A&amp;O Toolchain Demo”.</li>
<li>Click the green “Deploy” button.</li>
<li>Open “Deployments” in the left menu bar.</li>
</ol>
<p>6. In the “A&amp;O Toolchain Demo” tile, click “Start”, Open “Components” in the menu bar
wait until all components have started.</p>
<img alt="../../_images/udf1.png" src="../../_images/udf1.png" />
<ol class="arabic simple" start="7">
<li>Under the “Systems” in the “win2016” tile, click the “Access” dropdown and click “RDP”.</li>
</ol>
<img alt="../../_images/rdp.png" src="../../_images/rdp.png" />
<ol class="arabic simple" start="8">
<li>Open the RDP session download. Login credentials can be found by navigating to “Details” in the win2016 component.</li>
</ol>
<img alt="../../_images/details.png" src="../../_images/details.png" />
<ol class="arabic simple" start="9">
<li>Once in the win2016 component navigate to the “Details” tab and find the credentials for the RDP session highlighted below.</li>
</ol>
<img alt="../../_images/component.png" src="../../_images/component.png" />
<ol class="arabic simple" start="10">
<li>Enter the credentials in your RDP client to begin your session.</li>
</ol>
</div>
<div class="section" id="configure-postman">
<h1>4.4. Configure Postman<a class="headerlink" href="#configure-postman" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>Once in the RDP session, open the Postman application.</li>
</ol>
<img alt="../../_images/desktop.png" src="../../_images/desktop.png" />
<ol class="arabic simple" start="2">
<li>At the bottom of the page in grey text select “Skip signing in and take me straight to the app”.</li>
</ol>
<img alt="../../_images/skip.png" src="../../_images/skip.png" />
<ol class="arabic simple" start="3">
<li>If presented with one, exit the pop-up screen. Toggle off “SSL certification verification” by navigating to File then Settings then under the General tab, toggle SSL certification verification.</li>
</ol>
<img alt="../../_images/settings.png" src="../../_images/settings.png" />
<img alt="../../_images/ssl.png" src="../../_images/ssl.png" />
</div>
<div class="section" id="send-declaration">
<h1>4.5. Send Declaration<a class="headerlink" href="#send-declaration" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>Click the collection Lab 4.1 - Telemetry Streaming.</li>
</ol>
<img alt="../../_images/4_1-1.png" src="../../_images/4_1-1.png" />
<ol class="arabic simple" start="2">
<li>Click the request “Get Telemetry Services Version Info” then click the send button. This returns version and release information for the instance of Telemetry Streaming you are using. It also shows current and minimum required versions of the Telemetry Streaming schema.</li>
</ol>
<img alt="../../_images/4_1-1.png" src="../../_images/4_1-1.png" />
<ol class="arabic simple" start="3">
<li>Now we will post a declaration. Click the request “POST Telemetry Streaming Services to AWS CloudWatch” then click the send button.</li>
</ol>
<img alt="../../_images/4_1-3.png" src="../../_images/4_1-3.png" />
<ol class="arabic simple" start="3">
<li>Click the request “Get Telemetry Services Info” then click the send button. This will retrieve the declarations you previously sent to Telemetry Streaming.</li>
</ol>
<img alt="../../_images/4_1-2.png" src="../../_images/4_1-2.png" />
</div>
<div class="section" id="generate-traffic-on-big-ip">
<h1>4.6. Generate Traffic on BIG-IP<a class="headerlink" href="#generate-traffic-on-big-ip" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>In the RDP session, open Chrome.</li>
</ol>
<img alt="../../_images/chrome.png" src="../../_images/chrome.png" />
<ol class="arabic simple" start="2">
<li>Click on the “BIG-IP (10.1.1.7)” bookmark.</li>
</ol>
<img alt="../../_images/search.png" src="../../_images/search.png" />
<ol class="arabic simple" start="3">
<li>Login to the BIG-IP with the username “admin” and the password “admin”</li>
<li>In the Common partition navigate to Local Traffic -&gt; Network Map.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The virtual server, Existing_VS, along with its pool, existing_pool, have been preconfigured for this lab to produce traffic for Telemetry Streaming.</p>
</div>
<img alt="../../_images/vs.png" src="../../_images/vs.png" />
<ol class="arabic simple" start="5">
<li>Generate traffic by opening a new tab and navigating to the virtual server IP address and port combination “10.1.20.29:8080”.</li>
<li>Reload the page 5+ times.</li>
</ol>
<img alt="../../_images/company.png" src="../../_images/company.png" />
</div>
<div class="section" id="view-logs-in-aws-cloudwatch">
<h1>4.7. View Logs in AWS CloudWatch<a class="headerlink" href="#view-logs-in-aws-cloudwatch" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>Login to AWS console from <a class="reference external" href="https://federate.f5.com">https://federate.f5.com</a></li>
</ol>
<img alt="../../_images/federate.png" src="../../_images/federate.png" />
<ol class="arabic simple" start="2">
<li>Click on services.</li>
</ol>
<img alt="../../_images/image01.png" src="../../_images/image01.png" />
<ol class="arabic simple" start="3">
<li>Click on cloudwatch.</li>
</ol>
<img alt="../../_images/image02.png" src="../../_images/image02.png" />
<ol class="arabic simple" start="4">
<li>Click on dashboard.</li>
</ol>
<img alt="../../_images/image003.png" src="../../_images/image003.png" />
<ol class="arabic simple" start="5">
<li>Click on create dashboard.</li>
</ol>
<img alt="../../_images/image004.png" src="../../_images/image004.png" />
<ol class="arabic simple" start="6">
<li>Give your dashboard a name and click create button.</li>
</ol>
<img alt="../../_images/image005.png" src="../../_images/image005.png" />
<ol class="arabic simple" start="7">
<li>Select query results and click add to dashboard.</li>
</ol>
<img alt="../../_images/image006.png" src="../../_images/image006.png" />
<ol class="arabic simple" start="8">
<li>You can see the dashboard is created.</li>
</ol>
<img alt="../../_images/image007.png" src="../../_images/image007.png" />
<ol class="arabic simple" start="9">
<li>Go back to cloudwatch menu and click on insight under Logs.</li>
</ol>
<img alt="../../_images/image008.png" src="../../_images/image008.png" />
<ol class="arabic simple" start="10">
<li>Select your log group in the top for results, select your duration (ex. 1 day) and run query to get results from logs.</li>
</ol>
<img alt="../../_images/image009.png" src="../../_images/image009.png" />
<ol class="arabic simple" start="11">
<li>Click on the actions tab and add the current results from logs to dashboard we created.</li>
</ol>
<img alt="../../_images/image010.png" src="../../_images/image010.png" />
<img alt="../../_images/image011.png" src="../../_images/image011.png" />
<ol class="arabic simple" start="12">
<li>Select dashboard name, query results tab and add to dashboard.</li>
</ol>
<img alt="../../_images/image012.png" src="../../_images/image012.png" />
<ol class="arabic simple" start="13">
<li>Go back to dashboard in cloudwatch and select your dashboard name.</li>
</ol>
<img alt="../../_images/image013.png" src="../../_images/image013.png" />
<ol class="arabic simple" start="14">
<li>Click on any log from list to inspect the entries.</li>
</ol>
<img alt="../../_images/image014.png" src="../../_images/image014.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is the end of the module</p>
</div>
</div>



    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="../class5.html" title="4. Telemetry Streaming" accesskey="p" class="btn btn-primary pull-left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script type="text/javascript">
    jQuery.noConflict(true)
  </script>
  <script src="../../_static/js/clouddocs.js"></script>
  </body>
</html>